<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">

  <changeSet id="2016-09-06_01" author="ji10kg">
    <comment>Add Abbreviation field to Organisation</comment>
    <addColumn tableName="organisation">
      <column name="abbreviation" type="varchar(255)"/>
    </addColumn>
  </changeSet>

  <changeSet id="2016-11-22_01" author="ji10kg">
    <comment>Add index to description_types</comment>
    <createIndex tableName="description_types" indexName="DescriptionType_description_id_IDX">
      <column name="description_id" type="bigint(20)"/>
    </createIndex>
  </changeSet>

  <changeSet id="2016-11-22_02" author="ji10kg">
    <comment>change caption to text type</comment>
    <modifyDataType tableName="image"
      columnName="caption"
      newDataType="text" />
  </changeSet>

  <changeSet id="2016-11-23_01" author="ji10kg">
    <comment>Add owner field to Image</comment>
    <addColumn tableName="image">
      <column name="owner" type="varchar(255)"/>
    </addColumn>
  </changeSet>

  <changeSet id="2017-03-10_01" author="ji10kg">
    <comment>Add index to family and genus field of Taxon</comment>
    <createIndex tableName="taxon" indexName="Taxon_family_IDX">
      <column name="family" type="varchar(255)"/>
    </createIndex>
    <createIndex tableName="taxon" indexName="Taxon_genus_IDX">
      <column name="genus" type="varchar(255)"/>
    </createIndex>
  </changeSet>

  <changeSet id="2017-04-03_01" author="ji10kg">
    <comment>Add index to taxonRank field of Taxon</comment>
    <createIndex tableName="taxon" indexName="Taxon_taxonRank_IDX">
      <column name="taxonRank" type="varchar(255)"/>
    </createIndex>
  </changeSet>
</databaseChangeLog>
